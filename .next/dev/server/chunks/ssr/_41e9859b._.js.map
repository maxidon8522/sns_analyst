{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/murakamimaxi/Desktop/%E3%82%B3%E3%83%BC%E3%83%88%E3%82%99/sns_analyst/lib/instagram.ts"],"sourcesContent":["import { cache } from 'react';\n\nconst ACCESS_TOKEN = process.env.INSTAGRAM_ACCESS_TOKEN;\nconst USER_ID = process.env.INSTAGRAM_USER_ID;\nconst API_VERSION = 'v19.0';\nconst BASE_URL = `https://graph.facebook.com/${API_VERSION}`;\n\nexport interface InstagramMedia {\n  id: string;\n  caption: string;\n  media_type: string;\n  permalink: string;\n  timestamp: string;\n  like_count: number;\n  comments_count: number;\n  media_url?: string;\n  thumbnail_url?: string;\n  insights?: {\n    views: number;\n    reach: number;\n    saved: number;\n  };\n}\n\nexport const getInstagramPosts = async (): Promise<InstagramMedia[]> => {\n  if (!ACCESS_TOKEN || !USER_ID) {\n    console.error('‚ùå API Key missing');\n    return [];\n  }\n\n  const fields =\n    'id,caption,media_type,timestamp,like_count,comments_count,permalink';\n  const url = `${BASE_URL}/${USER_ID}/media?fields=${fields}&access_token=${ACCESS_TOKEN}&limit=20`;\n\n  console.log('Fetching URL:', url);\n\n  try {\n    const res = await fetch(url, { cache: 'no-store' });\n\n    if (!res.ok) {\n      const errorData = await res.json();\n      console.error('‚ùå Instagram API Error:', errorData);\n      return [];\n    }\n\n    const data = await res.json();\n    console.log('‚úÖ Posts fetched:', data.data?.length || 0);\n    return data.data || [];\n  } catch (error) {\n    console.error('‚ùå Fetch Error:', error);\n    return [];\n  }\n};\n\nexport async function getMediaInsights(mediaId: string) {\n  if (!ACCESS_TOKEN) return null;\n\n  const metrics = 'views,reach,saved';\n  const url = `${BASE_URL}/${mediaId}/insights?metric=${metrics}&access_token=${ACCESS_TOKEN}`;\n\n  try {\n    const res = await fetch(url, { cache: 'no-store' });\n    if (!res.ok) return null;\n\n    const json = await res.json();\n    const data = json.data;\n\n    const results: Record<string, number> = {};\n    if (Array.isArray(data)) {\n      for (const item of data) {\n        if (item.values && item.values.length > 0) {\n          results[item.name] = item.values[0].value;\n        }\n      }\n    }\n\n    return {\n      views: results['views'] || 0,\n      reach: results['reach'] || 0,\n      saved: results['saved'] || 0,\n    };\n  } catch (error) {\n    return null;\n  }\n}\n\nexport const getPostWithInsights = async (\n  mediaId: string,\n): Promise<InstagramMedia | null> => {\n  if (!ACCESS_TOKEN) return null;\n\n  const fields =\n    'id,caption,media_type,timestamp,like_count,comments_count,permalink';\n  const url = `${BASE_URL}/${mediaId}?fields=${fields}&access_token=${ACCESS_TOKEN}`;\n\n  try {\n    const res = await fetch(url, { cache: 'no-store' });\n    if (!res.ok) return null;\n\n    const post = await res.json();\n    const insights = await getMediaInsights(mediaId);\n\n    return {\n      ...post,\n      insights: insights || { views: 0, reach: 0, saved: 0 },\n    };\n  } catch (error) {\n    return null;\n  }\n};\n"],"names":[],"mappings":";;;;;;;;AAEA,MAAM,eAAe,QAAQ,GAAG,CAAC,sBAAsB;AACvD,MAAM,UAAU,QAAQ,GAAG,CAAC,iBAAiB;AAC7C,MAAM,cAAc;AACpB,MAAM,WAAW,CAAC,2BAA2B,EAAE,aAAa;AAmBrD,MAAM,oBAAoB;IAC/B,IAAI,CAAC,gBAAgB,CAAC,SAAS;QAC7B,QAAQ,KAAK,CAAC;QACd,OAAO,EAAE;IACX;IAEA,MAAM,SACJ;IACF,MAAM,MAAM,GAAG,SAAS,CAAC,EAAE,QAAQ,cAAc,EAAE,OAAO,cAAc,EAAE,aAAa,SAAS,CAAC;IAEjG,QAAQ,GAAG,CAAC,iBAAiB;IAE7B,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,KAAK;YAAE,OAAO;QAAW;QAEjD,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,MAAM,YAAY,MAAM,IAAI,IAAI;YAChC,QAAQ,KAAK,CAAC,0BAA0B;YACxC,OAAO,EAAE;QACX;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,QAAQ,GAAG,CAAC,oBAAoB,KAAK,IAAI,EAAE,UAAU;QACrD,OAAO,KAAK,IAAI,IAAI,EAAE;IACxB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,kBAAkB;QAChC,OAAO,EAAE;IACX;AACF;AAEO,eAAe,iBAAiB,OAAe;IACpD,IAAI,CAAC,cAAc,OAAO;IAE1B,MAAM,UAAU;IAChB,MAAM,MAAM,GAAG,SAAS,CAAC,EAAE,QAAQ,iBAAiB,EAAE,QAAQ,cAAc,EAAE,cAAc;IAE5F,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,KAAK;YAAE,OAAO;QAAW;QACjD,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO;QAEpB,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,OAAO,KAAK,IAAI;QAEtB,MAAM,UAAkC,CAAC;QACzC,IAAI,MAAM,OAAO,CAAC,OAAO;YACvB,KAAK,MAAM,QAAQ,KAAM;gBACvB,IAAI,KAAK,MAAM,IAAI,KAAK,MAAM,CAAC,MAAM,GAAG,GAAG;oBACzC,OAAO,CAAC,KAAK,IAAI,CAAC,GAAG,KAAK,MAAM,CAAC,EAAE,CAAC,KAAK;gBAC3C;YACF;QACF;QAEA,OAAO;YACL,OAAO,OAAO,CAAC,QAAQ,IAAI;YAC3B,OAAO,OAAO,CAAC,QAAQ,IAAI;YAC3B,OAAO,OAAO,CAAC,QAAQ,IAAI;QAC7B;IACF,EAAE,OAAO,OAAO;QACd,OAAO;IACT;AACF;AAEO,MAAM,sBAAsB,OACjC;IAEA,IAAI,CAAC,cAAc,OAAO;IAE1B,MAAM,SACJ;IACF,MAAM,MAAM,GAAG,SAAS,CAAC,EAAE,QAAQ,QAAQ,EAAE,OAAO,cAAc,EAAE,cAAc;IAElF,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,KAAK;YAAE,OAAO;QAAW;QACjD,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO;QAEpB,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,WAAW,MAAM,iBAAiB;QAExC,OAAO;YACL,GAAG,IAAI;YACP,UAAU,YAAY;gBAAE,OAAO;gBAAG,OAAO;gBAAG,OAAO;YAAE;QACvD;IACF,EAAE,OAAO,OAAO;QACd,OAAO;IACT;AACF"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///Users/murakamimaxi/Desktop/%E3%82%B3%E3%83%BC%E3%83%88%E3%82%99/sns_analyst/utils/supabase/config.ts"],"sourcesContent":["import {\n  createClient,\n  type SupabaseClient,\n  type SupabaseClientOptions,\n} from '@supabase/supabase-js';\n\nimport type { Database } from '../../types/database';\n\ntype ClientOptions = SupabaseClientOptions<Database>;\n\nconst getEnvValue = (key: string): string => {\n  const value = process.env[key];\n  if (!value) {\n    throw new Error(`Missing required environment variable: ${key}`);\n  }\n\n  return value;\n};\n\nexport const getSupabaseUrl = (): string =>\n  getEnvValue('NEXT_PUBLIC_SUPABASE_URL');\n\nexport const getSupabaseAnonKey = (): string =>\n  getEnvValue('NEXT_PUBLIC_SUPABASE_ANON_KEY');\n\nexport const getSupabaseServiceRoleKey = (): string =>\n  getEnvValue('SUPABASE_SERVICE_ROLE_KEY');\n\nconst baseOptions: ClientOptions = {\n  auth: {\n    autoRefreshToken: true,\n    persistSession: true,\n    detectSessionInUrl: true,\n  },\n  global: {\n    headers: {\n      'X-Client-Info': 'sns-analyst',\n    },\n  },\n};\n\nexport const createSupabaseClientWithConfig = (\n  key: string,\n  options?: ClientOptions,\n): SupabaseClient<Database> =>\n  createClient<Database>(\n    getSupabaseUrl(),\n    key,\n    mergeClientOptions(baseOptions, options),\n  );\n\nconst mergeClientOptions = (\n  base: ClientOptions,\n  overrides?: ClientOptions,\n): ClientOptions => {\n  const clonedBase: ClientOptions = {\n    ...base,\n    auth: base.auth ? { ...base.auth } : undefined,\n    global: base.global\n      ? {\n          ...base.global,\n          headers: base.global.headers\n            ? { ...base.global.headers }\n            : undefined,\n        }\n      : undefined,\n  };\n\n  if (!overrides) {\n    return clonedBase;\n  }\n\n  return {\n    ...clonedBase,\n    ...overrides,\n    auth: {\n      ...(clonedBase.auth ?? {}),\n      ...(overrides.auth ?? {}),\n    },\n    global: {\n      ...(clonedBase.global ?? {}),\n      ...(overrides.global ?? {}),\n      headers: {\n        ...(clonedBase.global?.headers ?? {}),\n        ...(overrides.global?.headers ?? {}),\n      },\n    },\n  };\n};\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAUA,MAAM,cAAc,CAAC;IACnB,MAAM,QAAQ,QAAQ,GAAG,CAAC,IAAI;IAC9B,IAAI,CAAC,OAAO;QACV,MAAM,IAAI,MAAM,CAAC,uCAAuC,EAAE,KAAK;IACjE;IAEA,OAAO;AACT;AAEO,MAAM,iBAAiB,IAC5B,YAAY;AAEP,MAAM,qBAAqB,IAChC,YAAY;AAEP,MAAM,4BAA4B,IACvC,YAAY;AAEd,MAAM,cAA6B;IACjC,MAAM;QACJ,kBAAkB;QAClB,gBAAgB;QAChB,oBAAoB;IACtB;IACA,QAAQ;QACN,SAAS;YACP,iBAAiB;QACnB;IACF;AACF;AAEO,MAAM,iCAAiC,CAC5C,KACA,UAEA,IAAA,uLAAY,EACV,kBACA,KACA,mBAAmB,aAAa;AAGpC,MAAM,qBAAqB,CACzB,MACA;IAEA,MAAM,aAA4B;QAChC,GAAG,IAAI;QACP,MAAM,KAAK,IAAI,GAAG;YAAE,GAAG,KAAK,IAAI;QAAC,IAAI;QACrC,QAAQ,KAAK,MAAM,GACf;YACE,GAAG,KAAK,MAAM;YACd,SAAS,KAAK,MAAM,CAAC,OAAO,GACxB;gBAAE,GAAG,KAAK,MAAM,CAAC,OAAO;YAAC,IACzB;QACN,IACA;IACN;IAEA,IAAI,CAAC,WAAW;QACd,OAAO;IACT;IAEA,OAAO;QACL,GAAG,UAAU;QACb,GAAG,SAAS;QACZ,MAAM;YACJ,GAAI,WAAW,IAAI,IAAI,CAAC,CAAC;YACzB,GAAI,UAAU,IAAI,IAAI,CAAC,CAAC;QAC1B;QACA,QAAQ;YACN,GAAI,WAAW,MAAM,IAAI,CAAC,CAAC;YAC3B,GAAI,UAAU,MAAM,IAAI,CAAC,CAAC;YAC1B,SAAS;gBACP,GAAI,WAAW,MAAM,EAAE,WAAW,CAAC,CAAC;gBACpC,GAAI,UAAU,MAAM,EAAE,WAAW,CAAC,CAAC;YACrC;QACF;IACF;AACF"}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///Users/murakamimaxi/Desktop/%E3%82%B3%E3%83%BC%E3%83%88%E3%82%99/sns_analyst/utils/supabase/server.ts"],"sourcesContent":["import type { SupabaseClient } from '@supabase/supabase-js';\n\nimport type { Database } from '../../types/database';\nimport {\n  createSupabaseClientWithConfig,\n  getSupabaseServiceRoleKey,\n} from './config';\n\nexport type ServerSupabaseClient = SupabaseClient<Database>;\n\nexport const createServerSupabaseClient = (): ServerSupabaseClient =>\n  createSupabaseClientWithConfig(getSupabaseServiceRoleKey(), {\n    auth: {\n      persistSession: false,\n      autoRefreshToken: false,\n      detectSessionInUrl: false,\n    },\n  });\n"],"names":[],"mappings":";;;;AAGA;;AAOO,MAAM,6BAA6B,IACxC,IAAA,6JAA8B,EAAC,IAAA,wJAAyB,KAAI;QAC1D,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,oBAAoB;QACtB;IACF"}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///Users/murakamimaxi/Desktop/%E3%82%B3%E3%83%BC%E3%83%88%E3%82%99/sns_analyst/components/forms/analysis-tags-form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AnalysisTagsForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call AnalysisTagsForm() from the server but AnalysisTagsForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/forms/analysis-tags-form.tsx <module evaluation>\",\n    \"AnalysisTagsForm\",\n);\nexport const analysisTagSections = registerClientReference(\n    function() { throw new Error(\"Attempted to call analysisTagSections() from the server but analysisTagSections is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/forms/analysis-tags-form.tsx <module evaluation>\",\n    \"analysisTagSections\",\n);\nexport const analysisTagsSchema = registerClientReference(\n    function() { throw new Error(\"Attempted to call analysisTagsSchema() from the server but analysisTagsSchema is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/forms/analysis-tags-form.tsx <module evaluation>\",\n    \"analysisTagsSchema\",\n);\nexport const defaultAnalysisTagsFormValues = registerClientReference(\n    function() { throw new Error(\"Attempted to call defaultAnalysisTagsFormValues() from the server but defaultAnalysisTagsFormValues is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/forms/analysis-tags-form.tsx <module evaluation>\",\n    \"defaultAnalysisTagsFormValues\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,yEACA;AAEG,MAAM,sBAAsB,IAAA,wQAAuB,EACtD;IAAa,MAAM,IAAI,MAAM;AAAsP,GACnR,yEACA;AAEG,MAAM,qBAAqB,IAAA,wQAAuB,EACrD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,yEACA;AAEG,MAAM,gCAAgC,IAAA,wQAAuB,EAChE;IAAa,MAAM,IAAI,MAAM;AAA0Q,GACvS,yEACA","ignoreList":[0]}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":["file:///Users/murakamimaxi/Desktop/%E3%82%B3%E3%83%BC%E3%83%88%E3%82%99/sns_analyst/components/forms/analysis-tags-form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AnalysisTagsForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call AnalysisTagsForm() from the server but AnalysisTagsForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/forms/analysis-tags-form.tsx\",\n    \"AnalysisTagsForm\",\n);\nexport const analysisTagSections = registerClientReference(\n    function() { throw new Error(\"Attempted to call analysisTagSections() from the server but analysisTagSections is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/forms/analysis-tags-form.tsx\",\n    \"analysisTagSections\",\n);\nexport const analysisTagsSchema = registerClientReference(\n    function() { throw new Error(\"Attempted to call analysisTagsSchema() from the server but analysisTagsSchema is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/forms/analysis-tags-form.tsx\",\n    \"analysisTagsSchema\",\n);\nexport const defaultAnalysisTagsFormValues = registerClientReference(\n    function() { throw new Error(\"Attempted to call defaultAnalysisTagsFormValues() from the server but defaultAnalysisTagsFormValues is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/forms/analysis-tags-form.tsx\",\n    \"defaultAnalysisTagsFormValues\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,qDACA;AAEG,MAAM,sBAAsB,IAAA,wQAAuB,EACtD;IAAa,MAAM,IAAI,MAAM;AAAsP,GACnR,qDACA;AAEG,MAAM,qBAAqB,IAAA,wQAAuB,EACrD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,qDACA;AAEG,MAAM,gCAAgC,IAAA,wQAAuB,EAChE;IAAa,MAAM,IAAI,MAAM;AAA0Q,GACvS,qDACA","ignoreList":[0]}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":["file:///Users/murakamimaxi/Desktop/%E3%82%B3%E3%83%BC%E3%83%88%E3%82%99/sns_analyst/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 266, "column": 0}, "map": {"version":3,"sources":["file:///Users/murakamimaxi/Desktop/%E3%82%B3%E3%83%BC%E3%83%88%E3%82%99/sns_analyst/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 351, "column": 0}, "map": {"version":3,"sources":["file:///Users/murakamimaxi/Desktop/%E3%82%B3%E3%83%BC%E3%83%88%E3%82%99/sns_analyst/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,8OAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE"}},
    {"offset": {"line": 393, "column": 0}, "map": {"version":3,"sources":["file:///Users/murakamimaxi/Desktop/%E3%82%B3%E3%83%BC%E3%83%88%E3%82%99/sns_analyst/app/videos/new/page.tsx"],"sourcesContent":["import { redirect } from 'next/navigation';\nimport { getPostWithInsights } from '@/lib/instagram';\nimport { createServerSupabaseClient } from '@/utils/supabase/server';\nimport { AnalysisTagsForm } from '@/components/forms/analysis-tags-form';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\n\nasync function saveAnalysisAction(formData: FormData) {\n  'use server';\n\n  const supabase = createServerSupabaseClient();\n  const ig_media_id = formData.get('ig_media_id') as string;\n  const rawTags = formData.get('tags') as string;\n  const score = formData.get('score');\n\n  const post = await getPostWithInsights(ig_media_id);\n  if (!post) {\n    throw new Error('Post not found');\n  }\n\n  const { error } = await supabase.from('videos').insert({\n    ig_media_id: post.id,\n    permalink: post.permalink,\n    thumbnail_url: post.thumbnail_url || post.media_url,\n    caption: post.caption,\n    posted_at: post.timestamp,\n    analysis_tags: JSON.parse(rawTags),\n    self_score: Number(score),\n  });\n\n  if (error) {\n    console.error('DB Insert Error:', error);\n    throw new Error('Failed to save analysis');\n  }\n\n  redirect('/instagram?created=true');\n}\n\nexport default async function NewAnalysisPage(props: {\n  searchParams: Promise<{ [key: string]: string | string[] | undefined }>;\n}) {\n  const searchParams = await props.searchParams;\n  const ig_media_id = searchParams.ig_media_id as string;\n\n  if (!ig_media_id) {\n    redirect('/instagram');\n  }\n\n  const post = await getPostWithInsights(ig_media_id);\n\n  if (!post) {\n    return (\n      <div className=\"container p-6\">\n        <div className=\"rounded-md bg-red-50 p-4 text-red-500\">\n          ÊäïÁ®ø„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ(ID: {ig_media_id})\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto max-w-4xl p-6\">\n      <h1 className=\"mb-6 text-2xl font-bold\">ÂãïÁîª„ÅÆÂàÜÊûê„Éª„Çø„Ç∞‰ªò„Åë</h1>\n\n      <div className=\"grid grid-cols-1 gap-8 md:grid-cols-2\">\n        <div>\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"text-sm text-muted-foreground\">\n                ÂØæË±°„ÅÆÊäïÁ®ø\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"relative flex aspect-video items-center justify-center overflow-hidden rounded-md bg-black/5\">\n                <div className=\"flex flex-col items-center text-gray-400\">\n                  <span className=\"mb-2 text-4xl\">\n                    {post.media_type === 'VIDEO' || post.media_type === 'REELS'\n                      ? 'üé•'\n                      : 'üì∑'}\n                  </span>\n                  <span className=\"text-xs\">{post.media_type}</span>\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <div className=\"flex flex-wrap gap-2\">\n                  <Badge variant=\"outline\">‚ù§Ô∏è {post.like_count}</Badge>\n                  <Badge variant=\"outline\">üí¨ {post.comments_count}</Badge>\n                  <Badge variant=\"outline\">üëÄ {post.insights?.views ?? '-'}</Badge>\n                  <Badge variant=\"outline\">üîñ {post.insights?.saved ?? '-'}</Badge>\n                </div>\n                <p className=\"line-clamp-4 rounded-md bg-gray-50 p-3 text-sm text-gray-600\">\n                  {post.caption}\n                </p>\n                <div className=\"text-right text-xs text-muted-foreground\">\n                  ÊäïÁ®øÊó•: {new Date(post.timestamp).toLocaleDateString()}\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        <div>\n          <Card>\n            <CardHeader>\n              <CardTitle>ÂàÜÊûê„Éá„Éº„Çø„ÇíÂÖ•Âäõ</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <AnalysisTagsForm\n                igMediaId={ig_media_id}\n                serverAction={saveAnalysisAction}\n              />\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;MAEA,wBAAA,eAAe,mBAAmB,QAAkB;IAGlD,MAAM,WAAW,IAAA,yJAA0B;IAC3C,MAAM,cAAc,SAAS,GAAG,CAAC;IACjC,MAAM,UAAU,SAAS,GAAG,CAAC;IAC7B,MAAM,QAAQ,SAAS,GAAG,CAAC;IAE3B,MAAM,OAAO,MAAM,IAAA,uIAAmB,EAAC;IACvC,IAAI,CAAC,MAAM;QACT,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU,MAAM,CAAC;QACrD,aAAa,KAAK,EAAE;QACpB,WAAW,KAAK,SAAS;QACzB,eAAe,KAAK,aAAa,IAAI,KAAK,SAAS;QACnD,SAAS,KAAK,OAAO;QACrB,WAAW,KAAK,SAAS;QACzB,eAAe,KAAK,KAAK,CAAC;QAC1B,YAAY,OAAO;IACrB;IAEA,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,oBAAoB;QAClC,MAAM,IAAI,MAAM;IAClB;IAEA,IAAA,iMAAQ,EAAC;AACX;+OA7BA;IAAe,qBAAf;AA+Be,eAAe,gBAAgB,KAE7C;IACC,MAAM,eAAe,MAAM,MAAM,YAAY;IAC7C,MAAM,cAAc,aAAa,WAAW;IAE5C,IAAI,CAAC,aAAa;QAChB,IAAA,iMAAQ,EAAC;IACX;IAEA,MAAM,OAAO,MAAM,IAAA,uIAAmB,EAAC;IAEvC,IAAI,CAAC,MAAM;QACT,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;oBAAwC;oBACjC;oBAAY;;;;;;;;;;;;IAIxC;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;kCACC,cAAA,8OAAC,iIAAI;;8CACH,8OAAC,uIAAU;8CACT,cAAA,8OAAC,sIAAS;wCAAC,WAAU;kDAAgC;;;;;;;;;;;8CAIvD,8OAAC,wIAAW;oCAAC,WAAU;;sDACrB,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAK,WAAU;kEACb,KAAK,UAAU,KAAK,WAAW,KAAK,UAAU,KAAK,UAChD,OACA;;;;;;kEAEN,8OAAC;wDAAK,WAAU;kEAAW,KAAK,UAAU;;;;;;;;;;;;;;;;;sDAI9C,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;;sEACb,8OAAC,mIAAK;4DAAC,SAAQ;;gEAAU;gEAAI,KAAK,UAAU;;;;;;;sEAC5C,8OAAC,mIAAK;4DAAC,SAAQ;;gEAAU;gEAAI,KAAK,cAAc;;;;;;;sEAChD,8OAAC,mIAAK;4DAAC,SAAQ;;gEAAU;gEAAI,KAAK,QAAQ,EAAE,SAAS;;;;;;;sEACrD,8OAAC,mIAAK;4DAAC,SAAQ;;gEAAU;gEAAI,KAAK,QAAQ,EAAE,SAAS;;;;;;;;;;;;;8DAEvD,8OAAC;oDAAE,WAAU;8DACV,KAAK,OAAO;;;;;;8DAEf,8OAAC;oDAAI,WAAU;;wDAA2C;wDAClD,IAAI,KAAK,KAAK,SAAS,EAAE,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAO3D,8OAAC;kCACC,cAAA,8OAAC,iIAAI;;8CACH,8OAAC,uIAAU;8CACT,cAAA,8OAAC,sIAAS;kDAAC;;;;;;;;;;;8CAEb,8OAAC,wIAAW;8CACV,cAAA,8OAAC,oKAAgB;wCACf,WAAW;wCACX,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ9B"}},
    {"offset": {"line": 692, "column": 0}, "map": {"version":3,"sources":["file:///Users/murakamimaxi/Desktop/%E3%82%B3%E3%83%BC%E3%83%88%E3%82%99/sns_analyst/.next-internal/server/app/videos/new/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {$$RSC_SERVER_ACTION_0 as '407b0530c99951f4f0ad1f1f9a8d376653db90e294'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}